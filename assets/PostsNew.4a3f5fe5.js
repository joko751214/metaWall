import{g as r,c as n,b as e,h as b,i as m,k as h,e as _,l as f,o as c}from"./index.d60ef6f7.js";import{p as g}from"./posts.6542e577.js";import{u as w}from"./index.3bdbdfa1.js";import"./request.d0cea955.js";const v={class:"w-2/5 pr-16"},x=e("div",{class:"bg-white text-xl text-center py-4 mb-4 border-2 border-black font-secondary font-bold double-bolder"}," \u5F35\u8CBC\u52D5\u614B ",-1),k={class:"border-2 border-black bg-white rounded-lg p-8 bottom-shadow"},y=e("li",{class:"mb-1"},[e("p",null,"\u8CBC\u6587\u5167\u5BB9")],-1),U={class:"mb-4"},V={class:"mb-4"},B={class:"bg-black text-white cursor-pointer px-8 py-1.5 rounded leading-6"},C=_(" \u4E0A\u50B3\u5716\u7247 "),D={key:0,class:"mb-8 h-40 border-2 border-black rounded-lg"},F=["src"],T={setup(N){const{user:d}=w();let o;const l=r(""),i=t=>{o=t.target.files[0],l.value=window.URL.createObjectURL(o)},s=r({user:d.token,content:""}),u=async()=>{console.log(o);let t;o?(t=new FormData,t.append("image",o),t.append("title",o.name),t.append("album","FWgf7de"),t.append("user",s.value.user),t.append("content",s.value.content)):t=s.value,(await g(t)).status===200&&f.push("/")};return(t,a)=>(c(),n("div",v,[x,e("ul",k,[y,e("li",U,[b(e("textarea",{class:"text-gray-400 w-full border-2 border-black px-4 py-3",placeholder:"\u8F38\u5165\u60A8\u7684\u8CBC\u6587\u5167\u5BB9",rows:"6",cols:"50","onUpdate:modelValue":a[0]||(a[0]=p=>s.value.content=p)},null,512),[[m,s.value.content]])]),e("li",V,[e("label",B,[e("input",{id:"upload",type:"file",accept:"image/*",class:"hidden",onChange:i},null,32),C])]),l.value?(c(),n("li",D,[e("img",{class:"w-full rounded-lg",src:l.value,alt:"photo-image"},null,8,F)])):h("",!0),e("li",{class:"flex justify-center"},[e("div",{class:"w-1/2"},[e("button",{class:"button-style button-shadow",onClick:u},"\u9001\u51FA\u8CBC\u6587")])])])]))}};export{T as default};
